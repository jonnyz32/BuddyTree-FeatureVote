(this.webpackJsonpdemo=this.webpackJsonpdemo||[]).push([[0],{13:function(e,t,n){},14:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),i=n(8),o=n.n(i),s=(n(13),n(7),n(5)),r=n(6),u=(n(14),n.p+"static/media/thumbsUpBlack.bcad8471.png"),d=n.p+"static/media/thumbsUp.9be3da83.png",l=n(0);var f=function(){var e=window.location.pathname;"/"===e&&(e=""),console.log("path: ",e);var t=Object(c.useState)([]),n=Object(r.a)(t,2),a=n[0],i=n[1],o=Object(c.useState)(""),f=Object(r.a)(o,2),h=f[0],j=f[1],b=function(t){if(""!=e){var n=Object(s.a)(a);n[t].image=(n[t].image+1)%2;var c={feature:n[t].feature};0===n[t].image?(n[t].votes-=1,c.direction="decrease"):(n[t].votes+=1,c.direction="increase"),function(e,t){fetch("/featureModifyVotes"+t,{method:"POST",headers:{"Content-Type":"application/json"},body:e}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))}(JSON.stringify(c),e),i(n)}else alert("Only users can vote on features")};return Object(c.useEffect)((function(){fetch("/getVotes"+e,{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){var t=[];e[0].forEach((function(n){n.feature in e[1]?n.image=1:n.image=0,t.push(n)})),i(t)})).catch((function(e){console.log(e)}))}),[]),Object(l.jsxs)("div",{className:"Container",children:[Object(l.jsxs)("p",{children:["What new feature would you",Object(l.jsx)("br",{}),"like us to add to Buddytree?"]}),Object(l.jsxs)("div",{className:"FeatureSuggestion",children:[Object(l.jsx)("textarea",{rows:2,id:"inputFeature",value:h,onChange:function(e){return function(e){j(e.target.value)}(e)}}),Object(l.jsx)("button",{id:"addFeature",onClick:function(){if(""!=e){var t=Object(s.a)(a),n={feature:h,votes:0,image:0};t.push(n),i(t),j("");var c={feature:h};!function(e,t){fetch("/featureAdd",{method:"POST",headers:{"Content-Type":"application/json"},body:e}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))}(JSON.stringify(c))}else alert("Only users can add features")},children:"Add"})]}),Object(l.jsx)("div",{className:"FeatureVotes",children:a.map((function(e,t){return Object(l.jsxs)("div",{className:"FeatureItemContainer",children:[Object(l.jsx)("div",{className:"FeatureItem",children:e.feature}),e.image?Object(l.jsx)("img",{id:"thumb",alt:"blueThumb",src:d,onClick:function(){b(t)}}):Object(l.jsx)("img",{id:"thumb",alt:"blackThumb",src:u,onClick:function(){b(t)}}),Object(l.jsx)("h2",{id:"numVotes",children:e.votes})]},e.feature)}))})]})};var h=function(){return Object(l.jsx)("div",{style:{display:"inline-block",position:"absolute",left:"500px"},children:Object(l.jsx)(f,{})})},j=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,17)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),c(e),a(e),i(e),o(e)}))};o.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(h,{})}),document.getElementById("root")),j()},7:function(e,t,n){}},[[16,1,2]]]);
//# sourceMappingURL=main.1371082c.chunk.js.map